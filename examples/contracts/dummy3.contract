

raw_safe_auto_brake = compose over car:
    test car.ps satisfies AccurateDistance(),
        using SimulationTesting(),
        terminating after 100 samples

    prove car.c satisfies SafeControls(10),
        using Lean4Proof("proof.lean")

    assume car.va satisfies MinBrakingEffect(10, 0.1)

safe_auto_brake = refine raw_safe_auto_brake as SafeAutoBrake()

verify safe_auto_brake


